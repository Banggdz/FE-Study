useState giÃºp cáº­p nháº­t láº¡i tráº¡ng thÃ¡i cá»§a dá»¯ liá»‡u (hay cáº­p nháº­t láº¡i giÃ¡ trá»‹ cá»§a dá»¯ liá»‡u).
Khi dá»¯ liá»‡u thay Ä‘á»•i thÃ¬ giao diá»‡n Ä‘Æ°á»£c cáº­p nháº­t láº¡i theo dá»¯ liá»‡u má»›i.
CÃº phÃ¡p:
import { useState } from "react";
function Component() {
	const [state, setState] = useState(initialStateValue);
	// Code
}
export default Component;
Trong Ä‘Ã³:
state: lÃ  tÃªn biáº¿n cá»§a state.
setState: lÃ  má»™t function dÃ¹ng Ä‘á»ƒ cáº­p nháº­t state.
initialStateValue: lÃ  giÃ¡ trá»‹ khá»Ÿi táº¡o (ban Ä‘áº§u) cá»§a state, chá»‰ dÃ¹ng 1 láº§n.

Khi báº¡n gá»i:
setScore(3);
React sáº½ Ä‘Ã¡nh dáº¥u: "Component nÃ y cáº§n re-render"
NhÆ°ng React chÆ°a thá»±c hiá»‡n ngay láº­p tá»©c
NÃ³ Ä‘á»£i Ä‘áº¿n khi hÃ m hiá»‡n táº¡i cháº¡y xong, rá»“i má»›i thá»±c hiá»‡n re-render toÃ n bá»™ component

ðŸ§  VÃ¬ sao váº­y?
React hoáº¡t Ä‘á»™ng theo cÆ¡ cháº¿ batching updates â€” gom cÃ¡c setState láº¡i rá»“i render 1 láº§n Ä‘á»ƒ tá»‘i Æ°u hiá»‡u suáº¥t.

VD:
function App() {
  const [score, setScore] = useState(0);

  const handleClick = () => {
    setScore(3);
    console.log("Score trong hÃ m:", score); // âŒ In ra 0, KHÃ”NG pháº£i 3
  };

  useEffect(() => {
    console.log("Effect cháº¡y, score má»›i:", score); // âœ… In ra 3 sau khi render
  }, [score]);

  console.log("Render: score =", score); // âœ… In ra má»—i láº§n render

  return <button onClick={handleClick}>Set Score</button>;
}
Báº¡n gá»i setScore(3) â†’ React lÃªn lá»‹ch re-render
Sau khi render xong vá»›i score = 3, thÃ¬ useEffect má»›i cháº¡y
Tá»©c lÃ  useEffect luÃ´n cháº¡y sau render, khÃ´ng pháº£i trong render
Thá»© tá»± cá»¥ thá»ƒ lÃ :
1.Gá»i setScore(3)
2.React chÆ°a re-render ngay, nhÆ°ng Ä‘Ã¡nh dáº¥u "sáº½ render láº¡i"
3.HÃ m handleClick káº¿t thÃºc
4.Component render láº¡i vá»›i giÃ¡ trá»‹ má»›i

âœ… useEffect(() => {...}, [score]) má»›i cháº¡y sau render
--------CounterState---------
import { useState } from "react"

function CounterState(){
    const [counter,setCounter]=useState(0);
    return(
        <>
        <div>Ket qua: {counter}</div>
       <button onClick={()=>setCounter(counter+1)}>Up</button>
       <button onClick={()=>setCounter(counter-1)}>Down</button>
       <button onClick={()=>setCounter(0)}>Reset</button>
        </>
    )
}
export default CounterState

---------ProductState----------
import {useEffect, useState} from 'react';
function ProductState(){
    const [products,setProducts]=useState();
    const [loading,setLoading]=useState(true);
    useEffect(()=>{
        const fetchApi=()=>{
            fetch("https://dummyjson.com/product?limit=100")
            .then(res=>res.json())
            .then(data=>{
                setProducts(data.products);
                setLoading(false);
            })
        }
        setTimeout(()=>{
            fetchApi();
        },20000);
        
    },[]);
    console.log(products);
    return(
        <>
            
        {/* {products?(
            <ul>
                {products.map(item=>(
            <li key={item.id}>{item.title}</li>
        ))} 
        </ul>):(<>Loading</>)} */}
        {loading?(
            
            <>Loading</>):(<ul>
                {products.map(item=>(
            <li key={item.id}>{item.title}</li>
        ))} 
        </ul>)}
        </>
    )
}
export default ProductState
